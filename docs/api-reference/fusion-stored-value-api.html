<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api-reference/fusion-stored-value-api" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Fusion Stored Value API | DataMesh Fusion API</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://datameshgroup.github.io/fusion/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://datameshgroup.github.io/fusion/img/logo.png"><meta data-rh="true" property="og:url" content="https://datameshgroup.github.io/fusion/docs/api-reference/fusion-stored-value-api"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Fusion Stored Value API | DataMesh Fusion API"><meta data-rh="true" name="description" content="The Fusion Stored Value API is an extension to the Fusion API which adds support for &quot;gift card&quot; transactions."><meta data-rh="true" property="og:description" content="The Fusion Stored Value API is an extension to the Fusion API which adds support for &quot;gift card&quot; transactions."><link data-rh="true" rel="icon" href="/fusion/img/logo.png"><link data-rh="true" rel="canonical" href="https://datameshgroup.github.io/fusion/docs/api-reference/fusion-stored-value-api"><link data-rh="true" rel="alternate" href="https://datameshgroup.github.io/fusion/docs/api-reference/fusion-stored-value-api" hreflang="en"><link data-rh="true" rel="alternate" href="https://datameshgroup.github.io/fusion/docs/api-reference/fusion-stored-value-api" hreflang="x-default"><link rel="stylesheet" href="/fusion/assets/css/styles.f37a401e.css">
<script src="/fusion/assets/js/runtime~main.511db321.js" defer="defer"></script>
<script src="/fusion/assets/js/main.0f044d46.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fusion/"><div class="navbar__logo"><img src="/fusion/img/logo.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/fusion/img/logo.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Overview</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/fusion/docs/getting-started">Documentation</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/datameshgroup" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fusion/docs/getting-started">Getting started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/fusion/docs/category/api-reference">API Reference</a><button aria-label="Collapse sidebar category &#x27;API Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fusion/docs/api-reference/fusion-app">Fusion App</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fusion/docs/api-reference/fusion-cloud">Fusion Cloud</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fusion/docs/api-reference/fusion-satellite">Fusion Satellite</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fusion/docs/api-reference/fusion-fuel-api">Fusion Fuel API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/fusion/docs/api-reference/fusion-stored-value-api">Fusion Stored Value API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fusion/docs/api-reference/data-model">Data model</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fusion/docs/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fusion/docs/production">Production</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fusion/docs/appendix">Appendix</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/fusion/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/fusion/docs/category/api-reference"><span itemprop="name">API Reference</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Fusion Stored Value API</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Fusion Stored Value API</h1>
<p>The Fusion Stored Value API is an extension to the Fusion API which adds support for &quot;gift card&quot; transactions.</p>
<p>A &quot;gift card&quot; is a financial instrument that allows customers to store funds for future purchases.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="gift-card-overview">Gift card overview<a href="#gift-card-overview" class="hash-link" aria-label="Direct link to Gift card overview" title="Direct link to Gift card overview">​</a></h2>
<p>Below is an overview of supported gift cards. If you are familiar with gift cards please skip ahead to <a href="/fusion/docs/api-reference/fusion-stored-value-api#mandatory-features">mandatory features</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="physical-gift-card-format">Physical gift card format<a href="#physical-gift-card-format" class="hash-link" aria-label="Direct link to Physical gift card format" title="Direct link to Physical gift card format">​</a></h3>
<ul>
<li>Physical gift cards are sold on a “hang-sell”, a branded cardboard sheet with a UPC, activation barcode, and notch at the top for hanging in the gift card display.</li>
<li>The UPC barcode represents an 11-digit UPC, followed by a check digit</li>
<li>The activation barcode contains the 11-digit UPC (no check digit) followed by the 19-digit card number (PAN) left-padded with zero.</li>
<li>Some card types may have a plastic credit card embedded on the hang-sell.</li>
</ul>
<p><img loading="lazy" alt="gift-card-layout" src="/fusion/assets/images/giftcard-layout-b91aa77d1030286f98d40ff69cc27ac1.png" width="1084" height="863" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="supported-gift-card-types">Supported gift card types<a href="#supported-gift-card-types" class="hash-link" aria-label="Direct link to Supported gift card types" title="Direct link to Supported gift card types">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-physical">Third-party physical<a href="#third-party-physical" class="hash-link" aria-label="Direct link to Third-party physical" title="Direct link to Third-party physical">​</a></h4>
<ul>
<li><strong>Example</strong> - iTunes Gift Card, Xbox Gift Card, Visa Gift Card</li>
<li><strong>Supported transaction types</strong> - Activation, Deactivation</li>
<li><strong>Supported activation methods</strong> - One-step</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h5>
<p>A <strong>third-party physical</strong> gift card is a type of gift card that is activated at the merchant and redeemable via a third-party store.</p>
<p>The card contains an activation barcode, formatted as an 11-digit UPC followed by the card number.</p>
<p>The activation amount on the card can be either fixed or variable.</p>
<p>A pre-paid gift card is a subset of third-party gift card. A pre-paid gift card is activated via the activation barcode, but redeemed via the card schemes (e.g. EFTPOS, Visa, Mastercard)</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="card-description">Card description<a href="#card-description" class="hash-link" aria-label="Direct link to Card description" title="Direct link to Card description">​</a></h5>
<ul>
<li>Hang-sell only<!-- -->
<ul>
<li>This gift card is made of printed cardboard with an activation barcode. It may optionally have a magnetic stripe embedded on the cardboard. A one-time redemption code, which is redeemed via the third-party store, is hidden behind a scratch panel on the back.</li>
<li>Example: iTunes cards</li>
</ul>
</li>
<li>Hang-sell containing plastic card<!-- -->
<ul>
<li>A plastic card with a magnetic stripe, attached to a cardboard backing with an activation barcode. The card may be closed-loop or open-loop (card schemes).</li>
<li>Example: Vanilla gift card</li>
</ul>
</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="user-journey---activation">User journey - activation<a href="#user-journey---activation" class="hash-link" aria-label="Direct link to User journey - activation" title="Direct link to User journey - activation">​</a></h5>
<ul>
<li>Cardholder selects the gift card to purchase from the gift card display and takes it to the counter.</li>
<li>Cashier creates a sale on the POS, scans “activation barcode” on the back of the gift card to purchase. Optionally the cashier enters the gift card amount.</li>
<li>Cardholder completes payment for the gift card, including any associated activation fees, using cash or card.</li>
<li>Once payment is complete, the cashier initiates the gift card activation request using the “activation barcode”, along with the amount.</li>
<li>The amount, along with the UPC and card number extracted from the “activation barcode” provide all the fields required for DataMesh to complete a card activation.</li>
<li>DataMesh completes activation, and returns result and receipt to the POS.</li>
<li>POS includes the transaction receipt in the sale receipt, and optionally prints sale receipt including all payments associated with this sale.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="closed-loop-physical">Closed-loop physical<a href="#closed-loop-physical" class="hash-link" aria-label="Direct link to Closed-loop physical" title="Direct link to Closed-loop physical">​</a></h4>
<ul>
<li><strong>Example</strong> - in-house branded gift card</li>
<li><strong>Supported transaction types</strong> - Activation, Deactivation, Redeem, Redeem void, Balance inquiry</li>
<li><strong>Supported activation methods</strong> - One-step, two-step</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h5>
<p>A <strong>closed-loop physical gift card</strong> is a type of gift card that is activated at the merchant and is also redeemable at the merchant via a closed-loop network.</p>
<p>The card typically contains an activation barcode, formatted as an 11-digit UPC followed by the card number.</p>
<p>The activation amount on the card can be either fixed or variable.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="card-description-1">Card description<a href="#card-description-1" class="hash-link" aria-label="Direct link to Card description" title="Direct link to Card description">​</a></h5>
<p>A plastic card with a magnetic stripe, attached to a cardboard backing with an activation barcode. The magnetic stripe may be accessible to support two-step activation.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="user-journey---activation-1">User journey - activation<a href="#user-journey---activation-1" class="hash-link" aria-label="Direct link to User journey - activation" title="Direct link to User journey - activation">​</a></h5>
<ul>
<li>Cardholder selects the gift card to purchase from the gift card display and takes it to the counter.</li>
<li>Cashier creates a sale on the POS, scans “activation barcode” on the back of the gift card to purchase. Optionally the cashier enters the gift card amount.</li>
<li>Cardholder completes payment for the gift card, including any associated activation fees, using cash or card.</li>
<li>Once payment is complete, the cashier initiates the gift card activation request using the “activation barcode”, along with the amount.</li>
<li>The amount, along with the UPC and card number extracted from the “activation barcode” provide all the fields required for DataMesh to complete a card activation.</li>
<li>DataMesh completes activation, and returns result and receipt to the POS.</li>
<li>POS includes the transaction receipt in the sale receipt, and optionally prints sale receipt including all payments associated with this sale.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="user-journey---redemption">User journey - redemption<a href="#user-journey---redemption" class="hash-link" aria-label="Direct link to User journey - redemption" title="Direct link to User journey - redemption">​</a></h5>
<ul>
<li>Cardholder selects items to purchase, and takes them to the counter.</li>
<li>Cashier creates a sale on the POS, scans items, and initiates a purchase request.</li>
<li>DataMesh terminal displays “PRESENT CARD” screen and the cardholder swipes their gift card in the terminal</li>
<li>DataMesh completes redemption, and returns result and receipt to the POS.</li>
<li>POS includes the transaction receipt in the sale receipt, and optionally prints sale receipt including all payments associated with this sale.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="account-recharge">Account recharge<a href="#account-recharge" class="hash-link" aria-label="Direct link to Account recharge" title="Direct link to Account recharge">​</a></h4>
<ul>
<li><strong>Example</strong> - Optus recharge Telstra recharge</li>
<li><strong>Supported transaction types</strong> - Activation, Deactivation*</li>
<li><strong>Supported activation methods</strong> - One-step</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="overview-2">Overview<a href="#overview-2" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h5>
<p>An <strong>account recharge</strong> adds funds to a customer&#x27;s account. For example, topping up a pre-paid Optus or Telstra mobile phone account.</p>
<p>It is similar to the third-party gift card, the difference is that for an account recharge, there is no physical card. Instead of using the UPC and card number scanned from an “activation barcode”, in an account recharge the POS sends a pre-configured UPC, and the card number is scanned by the POS from the cardholder&#x27;s phone.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="card-description-2">Card description<a href="#card-description-2" class="hash-link" aria-label="Direct link to Card description" title="Direct link to Card description">​</a></h5>
<p>There is no physical card for an account recharge. The POS contains a database of supported UPC values.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="user-journey---activation-2">User journey - activation<a href="#user-journey---activation-2" class="hash-link" aria-label="Direct link to User journey - activation" title="Direct link to User journey - activation">​</a></h5>
<ul>
<li>POS product database is pre-configured with UPC’s for available “account recharge” products.</li>
<li>Cardholder requests a phone recharge from the cashier, and indicates the type and amount required.</li>
<li>Cashier creates a sale on the POS, adds the appropriate “account recharge” product to the sale, and optionally enters the gift card amount.</li>
<li>Cardholder opens the phone app on their mobile phone and presents the account recharge barcode to the cashier.</li>
<li>Cashier scans the barcode, which is recorded along with the UPC and amount.</li>
<li>Cardholder completes payment for the account recharge, including any associated activation fees, using cash or card.</li>
<li>Once payment is complete, the cashier initiates the gift card activation request.</li>
<li>The amount, along with the pre-configured UPC and card number scanned from the customer phone, provide all the fields required for DataMesh to complete a card activation.</li>
<li>DataMesh completes activation, and returns result and receipt to the POS.</li>
<li>POS includes the transaction receipt in the sale receipt, and optionally prints sale receipt including all payments associated with this sale.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="digital-account-reservation">Digital account reservation<a href="#digital-account-reservation" class="hash-link" aria-label="Direct link to Digital account reservation" title="Direct link to Digital account reservation">​</a></h4>
<ul>
<li><strong>Example</strong> - Google Play, Phone account recharge</li>
<li><strong>Supported transaction types</strong> - Activation, Deactivation</li>
<li><strong>Supported activation methods</strong> - One-step</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="overview-3">Overview<a href="#overview-3" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h5>
<p>A <strong>digital account reservation</strong> is used to generate an reservation code which is redeemable via a third-party store.</p>
<p>It is similar to the third-party gift card, the difference being:</p>
<ul>
<li>There is no physical card. The POS sends the product UPC based on a product selected by the cashier.</li>
<li>The activation code is returned on a receipt, which must be printed by the POS</li>
</ul>
<p>The activation amount on the card can be either fixed or variable.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="card-description-3">Card description<a href="#card-description-3" class="hash-link" aria-label="Direct link to Card description" title="Direct link to Card description">​</a></h5>
<p>There is no physical card for an digital account reservation. The POS contains a database of supported UPC values.</p>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="user-journey---activation-3">User journey - activation<a href="#user-journey---activation-3" class="hash-link" aria-label="Direct link to User journey - activation" title="Direct link to User journey - activation">​</a></h5>
<ul>
<li>POS product database is pre-configured with UPC’s for available &quot;redemption code reservation” products.</li>
<li>Cardholder requests a &quot;digital account reservation&quot; product from the cashier, and indicates the type and amount required.</li>
<li>Cashier creates a sale on the POS, adds the appropriate &quot;digital account reservation&quot; product to the sale, and optionally enters the gift card amount.</li>
<li>Cardholder completes payment for the &quot;digital account reservation&quot;, including any associated activation fees, using cash or card.</li>
<li>Once payment is complete, the cashier initiates the gift card activation request.</li>
<li>The amount, along with the pre-configured UPC, provide all the fields required for DataMesh to complete a card activation.</li>
<li>DataMesh completes activation, and returns result and receipt containing the redemption code to the POS.</li>
<li>POS <strong>MUST</strong> print the receipt as returned by DataMesh</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="activation-methods">Activation methods<a href="#activation-methods" class="hash-link" aria-label="Direct link to Activation methods" title="Direct link to Activation methods">​</a></h3>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="physical-card-one-step-activation">Physical card, one-step activation<a href="#physical-card-one-step-activation" class="hash-link" aria-label="Direct link to Physical card, one-step activation" title="Direct link to Physical card, one-step activation">​</a></h5>
<ul>
<li>POS scans the “activation bar code&quot; from the back of the card (code consists of 11-digit UPC followed by the card number)</li>
<li>POS sends a stored value activation request to DataMesh, containing the activation bar code content and amount (if applicable).</li>
<li>DataMesh processes the activation and sends the result back to the POS</li>
<li>POS displays result to the user</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="physical-card-two-step-activation">Physical card, two-step activation<a href="#physical-card-two-step-activation" class="hash-link" aria-label="Direct link to Physical card, two-step activation" title="Direct link to Physical card, two-step activation">​</a></h5>
<ul>
<li>POS scans the UPC bar code from the back of the card (code only consists of 11-digit UPC)</li>
<li>POS sends a stored value activation request to DataMesh, containing the gift card bar code and amount (if applicable).</li>
<li>DataMesh terminal requests user swipe the gift card. Terminal reads the card.</li>
<li>DataMesh processes the activation and sends the result back to the POS</li>
<li>POS displays result to the user</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="mandatory-features">Mandatory features<a href="#mandatory-features" class="hash-link" aria-label="Direct link to Mandatory features" title="Direct link to Mandatory features">​</a></h2>
<p>The table below provides an overview of the mandatory integration requirements for the Fusion Gift Card API which are required for your selected integration type.</p>
<table><thead><tr><th>Feature</th><th style="text-align:center">Fusion App</th><th style="text-align:center">Fusion Satellite</th><th style="text-align:center">Fusion Cloud</th></tr></thead><tbody><tr><td>Activate</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td></tr><tr><td>Deactivate</td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center"></td></tr><tr><td>Purchase</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td><td style="text-align:center">✔</td></tr><tr><td><a href="/fusion/docs/getting-started#qr-code-pairing">QR code pairing</a></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">✔</td></tr><tr><td><a href="/fusion/docs/api-reference/fusion-cloud#display">Display request handling</a></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">✔</td></tr><tr><td><a href="/fusion/docs/api-reference/fusion-cloud#input">Input request handling</a></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">✔</td></tr><tr><td><a href="/fusion/docs/api-reference/fusion-cloud#print">Print request handling</a></td><td style="text-align:center"></td><td style="text-align:center"></td><td style="text-align:center">✔</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="purchase">Purchase<a href="#purchase" class="hash-link" aria-label="Direct link to Purchase" title="Direct link to Purchase">​</a></h2>
<p>To perform a gift card purchase (redemption):</p>
<ul>
<li>Process a standard purchase request based on the Sale System integration type:<!-- -->
<ul>
<li>Fusion App - <a href="/fusion/docs/api-reference/fusion-app#perform-a-purchase-events-mode">perform a purchase</a></li>
<li>Fusion Cloud - <a href="/fusion/docs/api-reference/fusion-cloud#perform-a-purchase">perform a purchase</a></li>
<li>Fusion Satellite - <a href="/fusion/docs/api-reference/fusion-satellite#payment">perform a purchase</a></li>
</ul>
</li>
<li>The <a href="/fusion/docs/api-reference/data-model#paymentbrandid">payment brand id</a> returned in the payment response will indicate the gift card type used</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="activate">Activate<a href="#activate" class="hash-link" aria-label="Direct link to Activate" title="Direct link to Activate">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Only one card can be activation per request. To activate multiple cards, the Sale System must send multiple activation requets sequentially.</p></div></div>
<p>To perform a gift card activation:</p>
<ul>
<li>Based on the gift card type, read the &quot;activation barcode&quot;, and/or UPC<!-- -->
<ul>
<li>Third-party physical - scan the &quot;activation barcode&quot;</li>
<li>Closed-loop physical - scan the &quot;activation barcode&quot;</li>
<li>Account recharge - scan the cardholder account, and append, left zero padded to 19 digits, to the UPC. This becomes the &quot;activation barcode&quot;</li>
<li>Digital account reservation - record product UPC selected by the cashier</li>
</ul>
</li>
<li>Construct a <a href="/fusion/docs/api-reference/data-model#stored-value">stored value</a> request<!-- -->
<ul>
<li>Set <code>StoredValueData[].StoredValueTransactionType</code> to <code>Activate</code></li>
<li>Set <code>StoredValueData[].StoredValueAccountID.StoredValueAccountType</code> to <code>GiftCard</code></li>
<li>Set <code>StoredValueData[].StoredValueAccountID.IdentificationType</code> to <code>Barcode</code></li>
<li>Set <code>StoredValueData[].StoredValueAccountID.StoredValueID</code> to the UPC or &quot;activation barcode&quot;</li>
<li>Set <code>StoredValueData[].EanUpc</code> to the product UPC</li>
<li>Set <code>StoredValueData[].ItemAmount</code> to the activation amount (note this is required even for fixed-amount cards)</li>
<li>If applicable, set <code>StoredValueData[].TotalFeesAmount</code> to the fee associated with the card.</li>
</ul>
</li>
<li>Fusion Cloud only; handle <a href="/fusion/docs/api-reference/fusion-cloud#display">display</a>, <a href="/fusion/docs/api-reference/fusion-cloud#input">input</a>, and <a href="/fusion/docs/api-reference/fusion-cloud#print">print</a> requests.</li>
<li>Handle the <a href="/fusion/docs/api-reference/data-model#stored-value">stored value</a> response<!-- -->
<ul>
<li>The <code>PaymentReceipt</code> <strong>MUST</strong> be printed for a digital account reservation as it contains the redemption code</li>
</ul>
</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>Stored value request - activate</p></summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	&quot;StoredValueRequest&quot;: {		</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		&quot;SaleData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;SaleTransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;03b22d77-f050-478a-b9a8-10295bc7a957&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		&quot;StoredValueData&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;StoredValueProvider&quot;: &quot;&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;StoredValueTransactionType&quot;:&quot;Activate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;StoredValueAccountID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				&quot;StoredValueAccountType&quot;: &quot;GiftCard&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				&quot;EntryMode&quot;: &quot;Scanned&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				&quot;IdentificationType&quot;: &quot;BarCode&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">				&quot;StoredValueID&quot;: &quot;111111111112222222222222222222&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			},</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;ProductCode&quot;: &quot;001&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;EanUpc&quot;: &quot;11111111111&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;ItemAmount&quot;: 100.00,			</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;TotalFeesAmount&quot;: 4.95,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;Currency&quot;: &quot;AUD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">		]		</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>Stored value response - deactivate</p></summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;StoredValueResponse&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Response&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Result&quot;: &quot;Success&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;SaleData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;SaleTransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;03b22d77-f050-478a-b9a8-10295bc7a957&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;POIData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;POITransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;66251a5e4a74ef253c7bb9e1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;StoredValueResult&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;StoredValueAccountStatus&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;StoredValueAccountID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;StoredValueAccountType&quot;: &quot;GiftCard&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;EntryMode&quot;: &quot;Scanned&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;IdentificationType&quot;: &quot;BarCode&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;StoredValueID&quot;: &quot;111111111112222222222222222222&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;CurrentBalance&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;StoredValueTransactionType&quot;: &quot;Activate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ProductCode&quot;: &quot;001&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;EanUpc&quot;: &quot;11111111111&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ItemAmount&quot;: 100.00,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Currency&quot;: &quot;AUD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;PaymentReceipt&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;DocumentQualifier&quot;: &quot;SaleReceipt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;RequiredSignatureFlag&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;OutputContent&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;OutputFormat&quot;: &quot;XHTML&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;OutputXHTML&quot;: &quot;PHA+IDwvcD4KPHA+PGI+ClRvd2VyIE9uZTwvYj48L3A+CjxwPjxpPjEwMCBCYXJhbmdhcm9vPC9pPjwvcD4KPHA+PGk+QmFyYW5nYXJvbyBOU1cgMjAwMDwvaT48L3A+CjxwPjxiPgoqKiogQ1VTVE9NRVIgQ09QWSAqKio8L2I+PC9wPgo8cD4KMjEvMDQvMjAyNCAyMzo1MzozNDwvcD4KPHA+TWVyY2hhbnQgSUQ6IFBPU01lcmNoYW50PC9wPgo8cD5UZXJtaW5hbCBJRDogSU5HQ0QwMDEKPC9wPgo8cD48Yj5HaWZ0IENhcmQgQWN0aXZhdGlvbjwvYj48L3A+CjxwPkFtb3VudDokNS4wMDwvcD4KPHA+SW5jb21tOiA2Mzc1MDk3MjQ5MjY2MjQ4IChNYW51YWwpPC9wPgo8cD5EZWZhdWx0IEFjY291bnQ8L3A+CjxwPjxiPgpBcHByb3ZlZDwvYj48L3A+CjxwPlJlZmVyZW5jZTogMDAwMDAwMTYwMTc0PC9wPgo8cD5BdXRoIENvZGU6IDkxMDA4NzwvcD4KPHA+UlJOIDogMDE2NDgwNTQ5NTg1ODQyPC9wPgo8cD4KCgo8L3A+Cg==&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;ContentAsPlainText&quot;: &quot;Tower One\r\n\r\n100 Barangaroo\r\n\r\nBarangaroo NSW 2000\r\n\r\n*** CUSTOMER COPY ***\r\n\r\n21/04/2024 23:53:34\r\n\r\nMerchant ID: POSMerchant\r\n\r\nTerminal ID: XXXXXXXX\r\n\r\nGift Card Activation\r\n\r\nAmount:$100.00\r\n\r\nIncomm: 2222222222222222222 (Manual)\r\n\r\nDefault Account\r\n\r\nApproved\r\n\r\nReference: 000000160174\r\n\r\nAuth Code: 910087\r\n\r\nRRN : 016480549585842\r\n\r\n\r\n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deactivate">Deactivate<a href="#deactivate" class="hash-link" aria-label="Direct link to Deactivate" title="Direct link to Deactivate">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>Whilst deactivation is supported by the Fusion Stored Value API, support for this transaction type is very limited by the gift card providers. The Sale System should always confirm payment prior to activation, minimising the requirement for deactivation.</p></div></div>
<p>To perform a gift card deactivation:</p>
<ul>
<li>Construct a <a href="/fusion/docs/api-reference/data-model#stored-value">stored value</a> request<!-- -->
<ul>
<li>Set <code>StoredValueData[].OriginalPOITransaction</code> to the <code>POIData.POITransactionID</code> from the original activation request</li>
<li>Set <code>StoredValueData[].StoredValueTransactionType</code> to <code>Reverse</code></li>
<li>Set <code>StoredValueData[].StoredValueAccountID.StoredValueAccountType</code> to <code>GiftCard</code></li>
<li>Set <code>StoredValueData[].StoredValueAccountID.IdentificationType</code> to <code>Barcode</code></li>
<li>Set <code>StoredValueData[].StoredValueAccountID.StoredValueID</code> to the UPC or &quot;activation barcode&quot;</li>
<li>Set <code>StoredValueData[].EanUpc</code> to the product UPC</li>
<li>Set <code>StoredValueData[].ItemAmount</code> to the activation amount (note this is required even for fixed-amount cards)</li>
</ul>
</li>
<li>Fusion Cloud only; handle <a href="/fusion/docs/api-reference/fusion-cloud#display">display</a>, <a href="/fusion/docs/api-reference/fusion-cloud#input">input</a>, and <a href="/fusion/docs/api-reference/fusion-cloud#print">print</a> requests.</li>
<li>Handle the <a href="/fusion/docs/api-reference/data-model#stored-value">stored value</a> response</li>
</ul>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>Stored value request - deactivate</p></summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;StoredValueResponse&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Response&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Result&quot;: &quot;Success&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;SaleData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;SaleTransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;03b22d77-f050-478a-b9a8-10295bc7a957&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;POIData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;POITransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;66251a5e4a74ef253c7bb9e1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;StoredValueResult&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;StoredValueAccountStatus&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;StoredValueAccountID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;StoredValueAccountType&quot;: &quot;GiftCard&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;EntryMode&quot;: &quot;Scanned&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;IdentificationType&quot;: &quot;BarCode&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;StoredValueID&quot;: &quot;111111111112222222222222222222&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;CurrentBalance&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;StoredValueTransactionType&quot;: &quot;Reverse&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ProductCode&quot;: &quot;001&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;EanUpc&quot;: &quot;11111111111&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ItemAmount&quot;: 100.00,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Currency&quot;: &quot;AUD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;PaymentReceipt&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;DocumentQualifier&quot;: &quot;SaleReceipt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;RequiredSignatureFlag&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;OutputContent&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;OutputFormat&quot;: &quot;XHTML&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;OutputXHTML&quot;: &quot;PHA+IDwvcD4KPHA+PGI+ClRvd2VyIE9uZTwvYj48L3A+CjxwPjxpPjEwMCBCYXJhbmdhcm9vPC9pPjwvcD4KPHA+PGk+QmFyYW5nYXJvbyBOU1cgMjAwMDwvaT48L3A+CjxwPjxiPgoqKiogQ1VTVE9NRVIgQ09QWSAqKio8L2I+PC9wPgo8cD4KMjEvMDQvMjAyNCAyMzo1MzozNDwvcD4KPHA+TWVyY2hhbnQgSUQ6IFBPU01lcmNoYW50PC9wPgo8cD5UZXJtaW5hbCBJRDogSU5HQ0QwMDEKPC9wPgo8cD48Yj5HaWZ0IENhcmQgQWN0aXZhdGlvbjwvYj48L3A+CjxwPkFtb3VudDokNS4wMDwvcD4KPHA+SW5jb21tOiA2Mzc1MDk3MjQ5MjY2MjQ4IChNYW51YWwpPC9wPgo8cD5EZWZhdWx0IEFjY291bnQ8L3A+CjxwPjxiPgpBcHByb3ZlZDwvYj48L3A+CjxwPlJlZmVyZW5jZTogMDAwMDAwMTYwMTc0PC9wPgo8cD5BdXRoIENvZGU6IDkxMDA4NzwvcD4KPHA+UlJOIDogMDE2NDgwNTQ5NTg1ODQyPC9wPgo8cD4KCgo8L3A+Cg==&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;ContentAsPlainText&quot;: &quot;Tower One\r\n\r\n100 Barangaroo\r\n\r\nBarangaroo NSW 2000\r\n\r\n*** CUSTOMER COPY ***\r\n\r\n21/04/2024 23:53:34\r\n\r\nMerchant ID: POSMerchant\r\n\r\nTerminal ID: XXXXXXXX\r\n\r\nGift Card Activation\r\n\r\nAmount:$100.00\r\n\r\nIncomm: 2222222222222222222 (Manual)\r\n\r\nDefault Account\r\n\r\nApproved\r\n\r\nReference: 000000160174\r\n\r\nAuth Code: 910087\r\n\r\nRRN : 016480549585842\r\n\r\n\r\n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><p>Stored value response - deactivate</p></summary><div><div class="collapsibleContent_i85q"><p></p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;StoredValueResponse&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;Response&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;Result&quot;: &quot;Success&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;SaleData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			&quot;SaleTransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;03b22d77-f050-478a-b9a8-10295bc7a957&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">			}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;POIData&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            &quot;POITransactionID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TransactionID&quot;: &quot;66251a5e4a74ef253c7bb9e1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;TimeStamp&quot;: &quot;2024-06-12T00:00:00+10:00&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;StoredValueResult&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;StoredValueAccountStatus&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;StoredValueAccountID&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;StoredValueAccountType&quot;: &quot;GiftCard&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;EntryMode&quot;: &quot;Scanned&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;IdentificationType&quot;: &quot;BarCode&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        &quot;StoredValueID&quot;: &quot;111111111112222222222222222222&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;CurrentBalance&quot;: 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;StoredValueTransactionType&quot;: &quot;Activate&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ProductCode&quot;: &quot;001&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;EanUpc&quot;: &quot;11111111111&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;ItemAmount&quot;: 100.00,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;Currency&quot;: &quot;AUD&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &quot;PaymentReceipt&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;DocumentQualifier&quot;: &quot;SaleReceipt&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;RequiredSignatureFlag&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                &quot;OutputContent&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;OutputFormat&quot;: &quot;XHTML&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;OutputXHTML&quot;: &quot;PHA+IDwvcD4KPHA+PGI+ClRvd2VyIE9uZTwvYj48L3A+CjxwPjxpPjEwMCBCYXJhbmdhcm9vPC9pPjwvcD4KPHA+PGk+QmFyYW5nYXJvbyBOU1cgMjAwMDwvaT48L3A+CjxwPjxiPgoqKiogQ1VTVE9NRVIgQ09QWSAqKio8L2I+PC9wPgo8cD4KMjEvMDQvMjAyNCAyMzo1MzozNDwvcD4KPHA+TWVyY2hhbnQgSUQ6IFBPU01lcmNoYW50PC9wPgo8cD5UZXJtaW5hbCBJRDogSU5HQ0QwMDEKPC9wPgo8cD48Yj5HaWZ0IENhcmQgQWN0aXZhdGlvbjwvYj48L3A+CjxwPkFtb3VudDokNS4wMDwvcD4KPHA+SW5jb21tOiA2Mzc1MDk3MjQ5MjY2MjQ4IChNYW51YWwpPC9wPgo8cD5EZWZhdWx0IEFjY291bnQ8L3A+CjxwPjxiPgpBcHByb3ZlZDwvYj48L3A+CjxwPlJlZmVyZW5jZTogMDAwMDAwMTYwMTc0PC9wPgo8cD5BdXRoIENvZGU6IDkxMDA4NzwvcD4KPHA+UlJOIDogMDE2NDgwNTQ5NTg1ODQyPC9wPgo8cD4KCgo8L3A+Cg==&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    &quot;ContentAsPlainText&quot;: &quot;Tower One\r\n\r\n100 Barangaroo\r\n\r\nBarangaroo NSW 2000\r\n\r\n*** CUSTOMER COPY ***\r\n\r\n21/04/2024 23:53:34\r\n\r\nMerchant ID: POSMerchant\r\n\r\nTerminal ID: XXXXXXXX\r\n\r\nGift Card Activation\r\n\r\nAmount:$100.00\r\n\r\nIncomm: 2222222222222222222 (Manual)\r\n\r\nDefault Account\r\n\r\nApproved\r\n\r\nReference: 000000160174\r\n\r\nAuth Code: 910087\r\n\r\nRRN : 016480549585842\r\n\r\n\r\n&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p></p></div></div></details>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="accreditation">Accreditation<a href="#accreditation" class="hash-link" aria-label="Direct link to Accreditation" title="Direct link to Accreditation">​</a></h2>
<p>There are an expanded set of test cases in the Fusion <a href="/fusion/docs/testing">accreditation</a> to support payments via the Fusion Stored Value API.</p>
<p><a href="mailto:integrations@datameshgroup.com" target="_blank" rel="noopener noreferrer">Contact the DataMesh Integrations Team</a> to discuss the accreditation process.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/fusion/docs/api-reference/fusion-fuel-api"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Fusion Fuel API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/fusion/docs/api-reference/data-model"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Data model</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#gift-card-overview" class="table-of-contents__link toc-highlight">Gift card overview</a><ul><li><a href="#physical-gift-card-format" class="table-of-contents__link toc-highlight">Physical gift card format</a></li><li><a href="#supported-gift-card-types" class="table-of-contents__link toc-highlight">Supported gift card types</a><ul><li><a href="#third-party-physical" class="table-of-contents__link toc-highlight">Third-party physical</a></li><li><a href="#closed-loop-physical" class="table-of-contents__link toc-highlight">Closed-loop physical</a></li><li><a href="#account-recharge" class="table-of-contents__link toc-highlight">Account recharge</a></li><li><a href="#digital-account-reservation" class="table-of-contents__link toc-highlight">Digital account reservation</a></li></ul></li><li><a href="#activation-methods" class="table-of-contents__link toc-highlight">Activation methods</a></li></ul></li><li><a href="#mandatory-features" class="table-of-contents__link toc-highlight">Mandatory features</a></li><li><a href="#purchase" class="table-of-contents__link toc-highlight">Purchase</a></li><li><a href="#activate" class="table-of-contents__link toc-highlight">Activate</a></li><li><a href="#deactivate" class="table-of-contents__link toc-highlight">Deactivate</a></li><li><a href="#accreditation" class="table-of-contents__link toc-highlight">Accreditation</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">2024-05-20</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">Useful Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.datameshgroup.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">DataMesh Group<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/datameshgroup" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:integrations@datameshgroup.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">DataMesh<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 <a href="https://www.datameshgroup.com/">DataMesh Group</a>.</div></div></div></footer></div>
</body>
</html>