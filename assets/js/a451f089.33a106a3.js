"use strict";(self.webpackChunkfusion_doc=self.webpackChunkfusion_doc||[]).push([[913],{5226:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});var s=n(5893),r=n(1151);const i={sidebar_position:1},d="Fusion App",a={id:"api-reference/fusion-app",title:"Fusion App",description:"Fusion App is a DataMesh middleware that is installed in the PC as the Sale System.",source:"@site/docs/api-reference/fusion-app.md",sourceDirName:"api-reference",slug:"/api-reference/fusion-app",permalink:"/fusion/docs/api-reference/fusion-app",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"API Reference",permalink:"/fusion/docs/category/api-reference"},next:{title:"Fusion Cloud",permalink:"/fusion/docs/api-reference/fusion-cloud"}},l={},o=[{value:"Reference code",id:"reference-code",level:2},{value:"Getting started with Fusion App",id:"getting-started-with-fusion-app",level:2},{value:"Install Fusion App",id:"install-fusion-app",level:3},{value:"Configure Fusion App",id:"configure-fusion-app",level:3},{value:"Send your first payment request",id:"send-your-first-payment-request",level:3},{value:"Next steps",id:"next-steps",level:3},{value:"Perform a purchase (events mode)",id:"perform-a-purchase-events-mode",level:2},{value:"Perform a purchase (blocking mode)",id:"perform-a-purchase-blocking-mode",level:2},{value:"Perform a cash out (events mode)",id:"perform-a-cash-out-events-mode",level:2},{value:"Perform a cash out (blocking mode)",id:"perform-a-cash-out-blocking-mode",level:2},{value:"Perform a refund (events mode)",id:"perform-a-refund-events-mode",level:2},{value:"Perform a refund (blocking mode)",id:"perform-a-refund-blocking-mode",level:2},{value:"Activate a gift card (events mode)",id:"activate-a-gift-card-events-mode",level:2},{value:"Deactivate a gift card (events mode)",id:"deactivate-a-gift-card-events-mode",level:2},{value:"Perform a balance inquiry (events mode)",id:"perform-a-balance-inquiry-events-mode",level:2},{value:"Methods",id:"methods",level:2},{value:"Status",id:"status",level:3},{value:"UI",id:"ui",level:3},{value:"Login",id:"login",level:3},{value:"Payments",id:"payments",level:3},{value:"Payment events",id:"payment-events",level:3},{value:"Balance inquiry",id:"balance-inquiry",level:3},{value:"Balance inquiry events",id:"balance-inquiry-events",level:3},{value:"Stored value",id:"stored-value",level:3},{value:"Stored value events",id:"stored-value-events",level:3},{value:"Error handling",id:"error-handling",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components},{Details:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h1,{id:"fusion-app",children:"Fusion App"}),"\n",(0,s.jsx)(t.p,{children:"Fusion App is a DataMesh middleware that is installed in the PC as the Sale System."}),"\n",(0,s.jsx)(t.p,{children:"Fusion App wraps the Fusion Cloud API and handles many of the interactions between the Sale System and the POI terminal (web socket, security, pairing, error handling, UI etc)."}),"\n",(0,s.jsx)(t.p,{children:"There are two ways on how the Fusion App communicates with the POI terminal:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Cloud - Fusion App communicates with the POI terminal via a Websocket connected to the DataMesh Unify switch."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"USB Connection"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Base Connection- Fusion App communicates with the POI terminal through a USB cable connected to the POI terminal\u2019s Base/Dock device.  The POI terminal must be paired with its Base/Dock device."}),"\n",(0,s.jsx)(t.li,{children:"Terminal Connection - Fusion App communicates with the POI terminal through a USB cable connected directly to the POI terminal."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"There are two methods for processing a payment using Fusion App:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Events mode - the Sale System sends a HTTP POST to a local endpoint, and if valid receives 202 ACCEPTED. The Sale System polls Fusion App, processing events received until the payment response is returned."}),"\n",(0,s.jsx)(t.li,{children:"Blocking - the Sale System sends a HTTP POST to a local endpoint, and waits for a response. If successful (200 OK) the response will contain the payment response details."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"In both methods, in case of an error (timeout, system crash etc), the Sale System sends a HTTP GET request to request the status of the payment."}),"\n",(0,s.jsx)(t.admonition,{type:"success",children:(0,s.jsxs)(t.p,{children:["When possible, events mode should ",(0,s.jsx)(t.em,{children:"always"})," be used over blocking mode as it enables more flexible transaction event handling."]})}),"\n",(0,s.jsx)(t.h2,{id:"reference-code",children:"Reference code"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Description"}),(0,s.jsx)(t.th,{children:"Location"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Demo Application implementing the Fusion App"}),(0,s.jsxs)(t.td,{children:["on ",(0,s.jsx)(t.a,{href:"https://github.com/datameshgroup/fusionapp-demo",children:"GitHub"})]})]})})]}),"\n",(0,s.jsx)(t.h2,{id:"getting-started-with-fusion-app",children:"Getting started with Fusion App"}),"\n",(0,s.jsx)(t.h3,{id:"install-fusion-app",children:"Install Fusion App"}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsxs)(t.p,{children:["The latest dev release Fusion App installer can be downloaded from this ",(0,s.jsx)(t.a,{href:"https://cloudposintegration.io/fusion/fusionapp/releases/FusionAppSetup_vDev.exe",children:"link"}),"."]})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Run the installer and select the ",(0,s.jsx)(t.em,{children:"Development"})," install type."]}),"\n",(0,s.jsxs)(t.p,{children:["(For installation in ",(0,s.jsx)(t.em,{children:"Production"})," environment, select ",(0,s.jsx)(t.em,{children:"Production"}),".)"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(7870).Z+"",width:"500",height:"392"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Wait for the installation to complete and click ",(0,s.jsx)(t.em,{children:"Finish"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(565).Z+"",width:"495",height:"388"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"configure-fusion-app",children:"Configure Fusion App"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Launch Fusion App from the icon in the system tray."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(6186).Z+"",width:"123",height:"59"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.em,{children:"Status"})," tab displays the terminal pairing status."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["You can pair a terminal by clicking on the ",(0,s.jsx)(t.em,{children:"Pair with terminal"})," button."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(4045).Z+"",width:"439",height:"330"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:"Before"})," selecting the ",(0,s.jsx)(t.em,{children:"pairing mode"})," to be used, please make sure that the connection required for the specific ",(0,s.jsx)(t.em,{children:"pairing mode"})," has been set-up."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(6692).Z+"",width:"439",height:"329"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{style:{textAlign:"center"},children:"Pairing Mode"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"USB (Base)"}),(0,s.jsx)(t.td,{children:"Fusion App communicates with the POI terminal through a USB cable connected to the POI terminal\u2019s Base/Dock device.  The POI terminal must be paired with its Base/Dock device."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"USB (Terminal)"}),(0,s.jsx)(t.td,{children:"Fusion App communicates with the POI terminal through a USB cable connected directly to the POI terminal."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{style:{textAlign:"center"},children:"Cloud"}),(0,s.jsx)(t.td,{children:"Fusion App communicates with the POI terminal via a Websocket connected to the DataMesh Unify switch."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["If the version of Fusion App that you're using doesn't display a prompt to select the pairing mode, Fusion App will use ",(0,s.jsx)(t.strong,{children:"Cloud"})," as the default pairing mode."]})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The main pairing dialog will then ask you to ",(0,s.jsx)(t.a,{href:"/docs/appendix#qr-code-pairing",children:"scan the pairing QR Code using the DataMesh terminal"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["When the Fusion App has been paired with a terminal, the paired terminal's POI ID will be displayed.  Only when necessary, you can unpair from the terminal by clicking on the ",(0,s.jsx)(t.em,{children:"Unpair from terminal"})," option."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"USB (Base)"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(5567).Z+"",width:"439",height:"341"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"USB (Terminal)"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(2492).Z+"",width:"439",height:"343"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.strong,{children:"Cloud"})}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(4758).Z+"",width:"439",height:"330"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.em,{children:"Util"})," tab will allow you to:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["update the POS Name (which is used during ",(0,s.jsx)(t.a,{href:"/docs/getting-started#qr-code-pairing",children:"QR Code Pairing"}),").","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If the Fusion App has been paired with a terminal ",(0,s.jsx)(t.em,{children:"before"})," the POS name was updated, you'll need to unpair from the terminal and then, pair with the terminal again to use the updated POS name."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"perform a login"}),"\n",(0,s.jsx)(t.li,{children:"access log files"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"DataMesh may ask for log files to diagnose issues during development."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(6538).Z+"",width:"437",height:"327"})}),"\n",(0,s.jsx)(t.h3,{id:"send-your-first-payment-request",children:"Send your first payment request"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Download and install ",(0,s.jsx)(t.a,{href:"https://www.postman.com/downloads",children:"Postman"})]}),"\n",(0,s.jsxs)(t.li,{children:["Import the Fusion App postman script:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"In Postman, select Menu(\u2630) \u2192 File \u2192 Import..."}),"\n",(0,s.jsxs)(t.li,{children:["Browse to ",(0,s.jsx)(t.code,{children:"%PROGRAMFILES(X86)%\\DataMeshGroup\\FusionApp\\FusionApp.postman_collection.json"})," and import"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Select Collections \u2192 Payments (blocking) \u2192 Payment, and click ",(0,s.jsx)(t.em,{children:"Send"})]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(8484).Z+"",width:"1338",height:"735"})}),"\n",(0,s.jsx)(t.h3,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Ensure you've read ",(0,s.jsx)(t.a,{href:"/docs/getting-started",children:"Getting Started"})," and scoped your integration requirements","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Make note of the ",(0,s.jsx)(t.a,{href:"/docs/getting-started#mandatory-features-checklist",children:"mandatory features checklist"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Read ",(0,s.jsx)(t.a,{href:"#perform-a-purchase-events-mode",children:"Perform a purchase"})," and ",(0,s.jsx)(t.a,{href:"#perform-a-refund-events-mode",children:"Perform a refund"})," and implement this functionality in your Sale System"]}),"\n",(0,s.jsx)(t.li,{children:"Implement other required features based on this API specification"}),"\n",(0,s.jsxs)(t.li,{children:["On the PC you've installed Fusion App, you can also view the locally installed ",(0,s.jsx)(t.a,{href:"http://localhost:4242/swagger",children:"Swagger docs"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-purchase-events-mode",children:"Perform a purchase (events mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a purchase with events mode, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments"})," endpoint."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#paymenttype",children:"PaymentData.PaymentType"}),' to "Normal"']}),"\n",(0,s.jsxs)(t.li,{children:["Set the purchase amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#requestedamount",children:"PaymentTransaction.AmountsReq.RequestedAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Populate the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saleitem",children:"SaleItem"})," array with the product basket for the purchase"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the payment and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments/{{SessionId}}events=true"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this should take under 5 seconds).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On 4xx the request was invalid and the payment could not be processed"}),"\n",(0,s.jsx)(t.li,{children:"On 5xx an error occured, the Sale System should enter error handling"}),"\n",(0,s.jsx)(t.li,{children:"On 202 ACCEPTED, the Sale System should GET the payment result"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/payments/{{SessionId}}/events"})," using the ",(0,s.jsx)(t.code,{children:"SessionId"})," from the POST payment to get the next event in the payment (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"}),", or a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"Print request"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"print request"}),", handle the print and call GET again"]}),"\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"payment response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", record the following to enable future matched refunds: ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})]}),"\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#authorizedamount",children:"PaymentResult.AmountsResp.AuthorizedAmount"})," (it may not equal the ",(0,s.jsx)(t.code,{children:"RequestedAmount"})," in the payment request)"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System is handling tipping or surcharge, check the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#tipamount",children:"PaymentResult.AmountsResp.TipAmount"}),", and ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#surchargeamount",children:"PaymentResult.AmountsResp.SurchargeAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"On 404, enter error handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-purchase-blocking-mode",children:"Perform a purchase (blocking mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a purchase, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments"})," endpoint."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#paymenttype",children:"PaymentData.PaymentType"}),' to "Normal"']}),"\n",(0,s.jsxs)(t.li,{children:["Set the purchase amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#requestedamount",children:"PaymentTransaction.AmountsReq.RequestedAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Populate the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saleitem",children:"SaleItem"})," array with the product basket for the purchase"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the payment and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments/{{SessionId}}"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"})," in the message body","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", record the following to enable future matched refunds: ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})]}),"\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"#authorizedamount",children:"PaymentResult.AmountsResp.AuthorizedAmount"})," (it may not equal the ",(0,s.jsx)(t.code,{children:"RequestedAmount"})," in the payment request)"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System is handling tipping or surcharge, check the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#tipamount",children:"PaymentResult.AmountsResp.TipAmount"}),", and ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#surchargeamount",children:"PaymentResult.AmountsResp.SurchargeAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-cash-out-events-mode",children:"Perform a cash out (events mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a cash out with events mode, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments"})," endpoint."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#paymenttype",children:"PaymentData.PaymentType"}),' to "CashAdvance"']}),"\n",(0,s.jsxs)(t.li,{children:["Set the cash out amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#requestedamount",children:"PaymentTransaction.AmountsReq.RequestedAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the same cash out amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#cashbackamount",children:"PaymentTransaction.AmountsReq.CashBackAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If possible, populate the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saleitem",children:"SaleItem"})," array with the product basket for the cash out. Otherwise leave as empty."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the payment and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments/{{SessionId}}events=true"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this should take under 5 seconds).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On 4xx the request was invalid and the payment could not be processed"}),"\n",(0,s.jsx)(t.li,{children:"On 5xx an error occured, the Sale System should enter error handling"}),"\n",(0,s.jsx)(t.li,{children:"On 202 ACCEPTED, the Sale System should GET the payment result"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/payments/{{SessionId}}/events"})," using the ",(0,s.jsx)(t.code,{children:"SessionId"})," from the POST payment to get the next event in the payment (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"}),", or a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"Print request"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"print request"}),", handle the print and call GET again"]}),"\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"payment response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", record the following to enable future matched refunds: ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})]}),"\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#authorizedamount",children:"PaymentResult.AmountsResp.AuthorizedAmount"})," (it may not equal the ",(0,s.jsx)(t.code,{children:"RequestedAmount"})," in the payment request)"]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"On 404, enter error handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-cash-out-blocking-mode",children:"Perform a cash out (blocking mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a cash out, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments"})," endpoint."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#paymenttype",children:"PaymentData.PaymentType"}),' to "CashAdvance"']}),"\n",(0,s.jsxs)(t.li,{children:["Set the cash out amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#requestedamount",children:"PaymentTransaction.AmountsReq.RequestedAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the same cash out amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#cashbackamount",children:"PaymentTransaction.AmountsReq.CashBackAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If possible, populate the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saleitem",children:"SaleItem"})," array with the product basket for the cash out. Otherwise leave as empty."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the payment and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments/{{SessionId}}"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"})," in the message body","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", record the following to enable future matched refunds: ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})]}),"\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"#authorizedamount",children:"PaymentResult.AmountsResp.AuthorizedAmount"})," (it may not equal the ",(0,s.jsx)(t.code,{children:"RequestedAmount"})," in the payment request)"]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-refund-events-mode",children:"Perform a refund (events mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a refund with events mode, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments"})," endpoint."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"If refunding a previous purchase, the Sale System should include details of the original purchase."})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#paymenttype",children:"PaymentData.PaymentType"}),' to "Refund"']}),"\n",(0,s.jsxs)(t.li,{children:["Set the refund amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#requestedamount",children:"PaymentTransaction.AmountsReq.RequestedAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If refunding a previous purchase (",(0,s.jsx)(t.strong,{children:"matched refund"}),"), set the following fields in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#originalpoitransaction",children:"PaymentTransaction.OriginalPOITransaction"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})," to the value returned in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POIData.POITransactionID"})," of the original purchase payment response"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Follow the refund rules outlined in the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#refunds",children:"Sale Item"})," documentation to populate the Sale Item array"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the payment and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments/{{SessionId}}?events=true"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this should take under 5 seconds).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On 4xx the request was invalid and the payment could not be processed"}),"\n",(0,s.jsx)(t.li,{children:"On 5xx an error occured, the Sale System should enter error handling"}),"\n",(0,s.jsx)(t.li,{children:"On 202 ACCEPTED, the Sale System should GET the payment result"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/payments/{{SessionId}}/events"})," using the ",(0,s.jsx)(t.code,{children:"SessionId"})," from the POST payment to get the next event in the payment (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"}),", or a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"Print request"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"print request"}),", handle the print and call GET again"]}),"\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"payment response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", record the following to enable future matched refunds: ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})]}),"\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"#authorizedamount",children:"PaymentResult.AmountsResp.AuthorizedAmount"})," (it may not equal the ",(0,s.jsx)(t.code,{children:"RequestedAmount"})," in the payment request)"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System is handling tipping or surcharge, check the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#tipamount",children:"PaymentResult.AmountsResp.TipAmount"}),", and ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#surchargeamount",children:"PaymentResult.AmountsResp.SurchargeAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"On 404, enter error handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-refund-blocking-mode",children:"Perform a refund (blocking mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a purchase the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments"}),") endpoint."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"If refunding a previous purchase, the Sale System should include details of the original purchase."})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#paymenttype",children:"PaymentData.PaymentType"}),' to "Refund"']}),"\n",(0,s.jsxs)(t.li,{children:["Set the refund amount in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#requestedamount",children:"PaymentTransaction.AmountsReq.RequestedAmount"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If refunding a previous purchase, set the following fields in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#originalpoitransaction",children:"PaymentTransaction.OriginalPOITransaction"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})," to the value returned in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POIData.POITransactionID"})," of the original purchase payment response"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Follow the refund rules outlined in the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#refunds",children:"Sale Item"})," documentation to populate the Sale Item array"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the payment and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/payments/{{SessionId}}"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"})," in the message body","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"#authorizedamount",children:"PaymentResult.AmountsResp.AuthorizedAmount"})," (it may not equal the ",(0,s.jsx)(t.code,{children:"RequestedAmount"})," in the payment request)"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"activate-a-gift-card-events-mode",children:"Activate a gift card (events mode)"}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"Only one card can be activated per request. To activate multiple cards, the Sale System must send multiple activation requests sequentially."})}),"\n",(0,s.jsxs)(t.p,{children:["To perform a gift card activation with events mode, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"Stored value request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/storedvalue"})," endpoint."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.code,{children:"ItemAmount"})," indicates the value to activate the card with. e.g. for a $100 giftcard with $5.95 activation fee ",(0,s.jsx)(t.code,{children:"ItemAmount"})," will be $100, and ",(0,s.jsx)(t.code,{children:"TotalFeesAmount"})," will be $5.95"]})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:['Based on the gift card type, read the "activation barcode", and/or UPC',"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:'Third-party physical - scan the "activation barcode"'}),"\n",(0,s.jsx)(t.li,{children:'Closed-loop physical - scan the "activation barcode"'}),"\n",(0,s.jsx)(t.li,{children:"Digital account reservation - record product UPC selected by the cashier"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"Stored value request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Create an object in StoredValueData[]","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#storedvaluetransactiontype",children:"StoredValueTransactionType"}),' to "Activate"']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#storedvalueaccounttype",children:"StoredValueAccountID.StoredValueAccountType"}),' to "GiftCard"']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#identificationtype",children:"StoredValueAccountID.IdentificationType"}),' to "BarCode"']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#storedvalueid",children:"StoredValueAccountID.StoredValueID"}),' to the UPC (digital account reservation) or "activation barcode" scanned from the card (physical card activation)']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#productcode",children:"ProductCode"})," to the product code used to identify the product in the Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#eanupc",children:"EanUpc"})," to the product UPC"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#itemamount",children:"ItemAmount"})," to the amount to be loaded onto the card (exclusive of any fees). Note this is required even for fixed-amount cards."]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#totalfeesamount",children:"TotalFeesAmount"})," to the activation fee, if any, associated with this gift card"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"#currency",children:"Currency"}),' to "AUD".']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleData.SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system. This should be the same as ",(0,s.jsx)(t.code,{children:"PaymentRequest"})," used to pay for the gift card (if paid for with card)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the transaction and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}events=true"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"stored value request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this should take under 5 seconds).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On 4xx the request was invalid and the payment could not be processed"}),"\n",(0,s.jsx)(t.li,{children:"On 5xx an error occured, the Sale System should enter error handling"}),"\n",(0,s.jsx)(t.li,{children:"On 202 ACCEPTED, the Sale System should GET the payment result"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}/events"})," using the ",(0,s.jsx)(t.code,{children:"SessionId"})," from the POST to get the next event in the transaction (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"stored value response"}),", or a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"Print request"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"print request"}),", handle the print and call GET again"]}),"\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"stored value response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", record the following to enable future account deactivation: ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"On 404, enter error handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"deactivate-a-gift-card-events-mode",children:"Deactivate a gift card (events mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a gift card deactivation with events mode, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"Stored value request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/storedvalue"})," endpoint."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["To perform a deactivation, the Sale System will need to recall the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"POITransactionID"})," from the original activation."]})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"Stored value request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Create an object in StoredValueData[]","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#storedvaluetransactiontype",children:"StoredValueTransactionType"}),' to "Reversal"']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#storedvalueaccounttype",children:"StoredValueAccountID.StoredValueAccountType"}),' to "GiftCard"']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#identificationtype",children:"StoredValueAccountID.IdentificationType"}),' to "BarCode"']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#storedvalueid",children:"StoredValueAccountID.StoredValueID"}),' to the UPC (digital account reservation) or "activation barcode" scanned from the card (physical card activation)']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#productcode",children:"ProductCode"})," to the product code used to identify the product in the Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#eanupc",children:"EanUpc"})," to the product UPC"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#itemamount",children:"ItemAmount"})," to the amount to be loaded onto the card (exclusive of any fees). Note this is required even for fixed-amount cards."]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#totalfeesamount",children:"TotalFeesAmount"})," to the activation fee, if any, associated with this gift card"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"#currency",children:"Currency"}),' to "AUD".']}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#originalpoitransaction",children:"OriginalPOITransaction"})," to the value returned in ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#poitransactionid",children:"StoredValueResponse.POIData.POITransactionID"})," of the original activation response"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Set ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletransactionid",children:"SaleData.SaleTransactionID"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.TransactionID"})," should be the ID which identifies the sale on your system. This should be the same as ",(0,s.jsx)(t.code,{children:"PaymentRequest"})," used to pay for the gift card (if paid for with card)"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"SaleTransactionID.Timestamp"})," should be the current time formatted as ",(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/ISO_8601",children:"ISO8601"})]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the transaction and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}events=true"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"stored value request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this should take under 5 seconds).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On 4xx the request was invalid and the payment could not be processed"}),"\n",(0,s.jsx)(t.li,{children:"On 5xx an error occured, the Sale System should enter error handling"}),"\n",(0,s.jsx)(t.li,{children:"On 202 ACCEPTED, the Sale System should GET the payment result"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}/events"})," using the ",(0,s.jsx)(t.code,{children:"SessionId"})," from the POST to get the next event in the transaction (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"stored value response"}),", or a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"Print request"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#print-request",children:"print request"}),", handle the print and call GET again"]}),"\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"stored value response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["Print the receipt contained in ",(0,s.jsx)(t.code,{children:"PaymentReceipt"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"On 404, enter error handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"perform-a-balance-inquiry-events-mode",children:"Perform a balance inquiry (events mode)"}),"\n",(0,s.jsxs)(t.p,{children:["To perform a balance inquiry with events mode, the Sale System will need to POST a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-request",children:"balance inquiry request"})," JSON payload to the ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/balanceinquiry"})," endpoint."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Construct a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-request",children:"balance inquiry request"})," JSON payload including all required fields","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Note the ",(0,s.jsx)(t.code,{children:"BalanceInquiryRequest"})," object can be left empty"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Create a globally unique UUIDv4 ",(0,s.jsx)(t.code,{children:"SessionId"}),". This will be used to uniquely identify the transaction and perform error recovery."]}),"\n",(0,s.jsxs)(t.li,{children:["POST the JSON payload to ",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}events=true"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"Content-Type"})," header to ",(0,s.jsx)(t.code,{children:"application/json"})]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Application-Name"})," header to the name of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the ",(0,s.jsx)(t.code,{children:"X-Software-Version"})," header to the software version of your Sale System"]}),"\n",(0,s.jsxs)(t.li,{children:["Set the message body to the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-request",children:"balance inquiry request"})," JSON payload"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Await the POST result (this should take under 5 seconds).","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"On 4xx the request was invalid and the request could not be processed"}),"\n",(0,s.jsx)(t.li,{children:"On 5xx an error occured, the Sale System should enter error handling"}),"\n",(0,s.jsx)(t.li,{children:"On 202 ACCEPTED, the Sale System should GET the result"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["Call ",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}/events"})," using the ",(0,s.jsx)(t.code,{children:"SessionId"})," from the POST to get the next event in the transaction (this could take as long as 5 minutes). Fusion App will return a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"})," containing the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-response",children:"balance inquiry response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["On ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-response",children:"balance inquiry response"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Check ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," for the transaction result"]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", handle the remaining fields in the response']}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.li,{children:"On 404, enter error handling"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["If the Sale System does not receive a POST result (i.e. timeout, socket dropped, system crash etc) implement error handling outlined in ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(t.h3,{id:"status",children:"Status"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"status"})," endpoint returns the current Fusion App status."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Endpoint"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/status"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsx)(t.p,{children:"A JSON payload representing the Fusion App status."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n    "Version": "3.0.1.0", //Formatted version number of the Fusion App\n    "TerminalPaired": false, //True if a terminal has been paired, false otherwise\n    "Status": "Ready" //Status of the Fusion App\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"ui",children:"UI"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"ui"})," endpoint enables the Sale System to launch the Fusion App main UI so the operator can ",(0,s.jsx)(t.em,{children:"pair the Fusion App to a terminal"})," and ",(0,s.jsx)(t.em,{children:"unpair the Fusion App from the terminal"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsx)(t.p,{children:"This is important when the task bar/system tray is hidden and the operator cannot access the main Fusion App icon, while the Sale System is running."})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Endpoint"}),"\n",(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/ui?launchCommand="})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"LaunchCommand"}),(0,s.jsx)(t.td,{children:'Set to "pairing" to launch directly to the pairing UI'})]})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.h3,{id:"login",children:"Login"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"Login"})," endpoint is a useful method for validating connectivity with DataMesh without sending a financial request. The Sale System is not required to implement this functionality."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Endpoint"}),"\n",(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/login/{{SessionId}}"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#login-response",children:"Login response"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Login response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"LoginResponse": {\n\t\t"Response": {\n\t\t\t"Result": "xxx",\n\t\t\t"ErrorCondition": "xxx",\n\t\t\t"AdditionalResponse": "xxx"\n\t\t},\n\t\t"POISystemData": {\n\t\t\t"DateTime": "xxx",\n\t\t\t"POISoftware": {\n\t\t\t\t"ProviderIdentification": "xxx",\n\t\t\t\t"ApplicationName": "xxx",\n\t\t\t\t"SoftwareVersion": "xxx"\n\t\t\t},\n\t\t\t"POITerminalData": {\n\t\t\t\t"TerminalEnvironment": "xxx",\n\t\t\t\t"POICapabilities": [\n\t\t\t\t\t"xxx",\n\t\t\t\t\t"xxx",\n\t\t\t\t\t"xxx"\n\t\t\t\t],\n\t\t\t\t"POIProfile": {\n\t\t\t\t\t"GenericProfile": "Custom"\n\t\t\t\t},\n\t\t\t\t"POISerialNumber": "xxx"\n\t\t\t},\n\t\t\t"POIStatus": {\n\t\t\t\t"GlobalStatus": "xxx",\n\t\t\t\t"PEDOKFlag": "true or false",\n\t\t\t\t"CardReaderOKFlag": "true or false",\n\t\t\t\t"PrinterStatus": "xxx",\n\t\t\t\t"CommunicationOKFlag": "true or false",\n\t\t\t\t"FraudPreventionFlag": "true or false"\n\t\t\t},\n\t\t\t"TokenRequestStatus": "true or false"\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. Check ",(0,s.jsx)(t.code,{children:"LoginResponse.Response.Result"})," for the result of the login request"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"4xx"}),(0,s.jsx)(t.td,{children:"Bad Request"}),(0,s.jsx)(t.td,{children:"Fusion App was unable to process the request. Check the required headers and try again."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsx)(t.td,{children:"Fusion App was unable to process the request. Try again."})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"payments",children:"Payments"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"Payments"})," endpoint is used to perform purchase, purchase + cash out, cash out only, and refund requests."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Endpoints"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Endpoint"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Request (blocking mode)"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/payments/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:"Initate a payment in blocking mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Request (events mode)"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/payments/{{SessionId}}?events=true"})}),(0,s.jsx)(t.td,{children:"Initate a payment in events mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Error handling"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/payments/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:"Called by the Sale System to enter error handling"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Get events"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/payments/{{SessionId}}/events"})}),(0,s.jsxs)(t.td,{children:["Get events for the request. See ",(0,s.jsx)(t.a,{href:"#payment-events",children:"Payment events"})]})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Events"}),(0,s.jsx)(t.td,{children:"Set to true to enable events mode, false otherwise"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"Payment request"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Payment request"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n    "PaymentRequest": {\n        "SaleData": {\n            "SaleTransactionID": {\n                "TransactionID": "X_SALE_ID",\n                "TimeStamp": "X_ISO8601_FORMAT"\n            }\n        },\n        "PaymentTransaction": {\n            "AmountsReq": {\n                "Currency": "AUD",\n                "RequestedAmount": 10.42\n            },\n           "SaleItem":[\n               {\n                  "ItemID":"0",\n                  "ProductCode":"X_PRODUCT_CODE",\n                  "UnitOfMeasure":"Other",\n                  "Quantity":"1",\n                  "UnitPrice":"10.42",\n                  "ItemAmount":"10.42",\n                  "ProductLabel":"Big Kahuna Burger"\n               }\n            ]            \n        },\n        "PaymentData": {\n            "PaymentType": "Normal"\n        }\n    }\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"A response body is only returned when using blocking mode."})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"Payment response"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Payment response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"PaymentResponse": {\n\t\t"Response": {\n\t\t\t"Result": "Success| Partial | Failure",\n\t\t\t"ErrorCondition": "xxx",\n\t\t\t"AdditionalResponse": "xxx"\n\t\t},\n\t\t"SaleData": {\n\t\t\t"SaleTransactionID": {\n\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t"TimeStamp": "xxx"\n\t\t\t},\n\t\t\t"SaleReferenceID": "xxxx"\n\t\t},\n\t\t"POIData": {\n\t\t\t"POITransactionID": {\n\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t"TimeStamp": "xxx"\n\t\t\t},\n\t\t\t"POIReconciliationID": "xxx"\n\t\t},\n\t\t"PaymentResult": {\n\t\t\t"PaymentType": "xxx",\n\t\t\t"PaymentInstrumentData": {\n\t\t\t\t"PaymentInstrumentType": "xxx",\n\t\t\t\t"CardData": {\n\t\t\t\t\t"EntryMode": "xxx",\n\t\t\t\t\t"PaymentBrand": "xxx",\n\t\t\t\t\t"PaymentBrandID": "xxx",\n\t\t\t\t\t"PaymentBrandLabel": "xxx",\n\t\t\t\t\t"Account": "xxx",\n\t\t\t\t\t"MaskedPAN": "xxxxxx\u2026xxxx",\n\t\t\t\t\t"PaymentToken": {\n\t\t\t\t\t\t"TokenRequestedType": "xxx",\n\t\t\t\t\t\t"TokenValue": "xxx",\n\t\t\t\t\t\t"ExpiryDateTime": "xxx"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\t"AmountsResp": {\n\t\t\t\t"Currency": "AUD",\n\t\t\t\t"AuthorizedAmount": "x.xx",\n\t\t\t\t"TotalFeesAmount": "x.xx",\n\t\t\t\t"CashBackAmount": "x.xx",\n\t\t\t\t"TipAmount": "x.xx",\n\t\t\t\t"SurchargeAmount": "x.xx"\n\t\t\t},\n\t\t\t"OnlineFlag": true,\n\t\t\t"PaymentAcquirerData": {\n\t\t\t\t"AcquirerID": "xxx",\n\t\t\t\t"MerchantID": "xxx",\n\t\t\t\t"AcquirerPOIID": "xxx",\n\t\t\t\t"AcquirerTransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t\t"ApprovalCode": "xxx",\n\t\t\t\t"ResponseCode": "xxx",\n\t\t\t\t"HostReconciliationID": "xxx"\n\t\t\t}\n\t\t},\n\t\t"AllowedProductCodes": [\n\t\t\t"1",\n\t\t\t"2",\n\t\t\t"3"\n\t\t],\n\t\t"PaymentReceipt": [\n\t\t\t{\n\t\t\t\t"DocumentQualifier": "xxx",\n\t\t\t\t"RequiredSignatureFlag": true,\n\t\t\t\t"OutputContent": {\n\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. Check ",(0,s.jsx)(t.code,{children:"PaymentResponse.Response.Result"})," for the result of the payment request"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"202"}),(0,s.jsx)(t.td,{children:"Accepted"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request in events mode. Call the ",(0,s.jsx)(t.a,{href:"#payment-events",children:"payment events"})," endpoint for the payment result"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"4xx"}),(0,s.jsx)(t.td,{children:"Bad Request"}),(0,s.jsx)(t.td,{children:"Fusion App was unable to process the request. Check the required headers and request body and try again."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to process the request. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the payment result."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"payment-events",children:"Payment events"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"Payment events"})," endpoint is used to request the events associated with an ongoing payment session."]}),"\n",(0,s.jsxs)(t.admonition,{type:"tip",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"SessionId"})," used in the POST to initiate the payment."]}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"SessionId"})," is only valid during the lifetime of the payment (i.e. when a payment is initiated until PaymentResponse is returned to the Sale System). If 404 is returned, the Sale System should enter ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"}),"."]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Endpoint"}),"\n",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/payments/{{SessionId}}/events"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload containing either a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," or ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"}),"."]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Print request"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"SaleToPOIRequest": {\n\t\t"MessageHeader": {\n\t\t\t"MessageClass": "Device",\n\t\t\t"MessageCategory": "Print",\n\t\t\t"MessageType": "Request",\n\t\t\t"ServiceID": "xxxx"\n\t\t},\n\t\t"PrintRequest": {\n\t\t\t"PrintOutput": {\n\t\t\t\t"DocumentQualifier": "Cashier | Customer",\n\t\t\t\t"IntegratedPrintFlag": "true|false",\n\t\t\t\t"RequiredSignatureFlag": "true|false",\n\t\t\t\t"OutputContent": {\n\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Payment response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"SaleToPOIResponse": {\n\t\t"MessageHeader": {\n\t\t\t"MessageClass": "Service",\n\t\t\t"MessageCategory": "Payment",\n\t\t\t"MessageType": "Response",\n\t\t\t"ServiceID": "xxxx"\n\t\t},\n\t\t"PaymentResponse": {\n\t\t\t"Response": {\n\t\t\t\t"Result": "Success| Partial | Failure",\n\t\t\t\t"ErrorCondition": "xxx",\n\t\t\t\t"AdditionalResponse": "xxx"\n\t\t\t},\n\t\t\t"SaleData": {\n\t\t\t\t"SaleTransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t\t"SaleReferenceID": "xxxx"\n\t\t\t},\n\t\t\t"POIData": {\n\t\t\t\t"POITransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t\t"POIReconciliationID": "xxx"\n\t\t\t},\n\t\t\t"PaymentResult": {\n\t\t\t\t"PaymentType": "xxx",\n\t\t\t\t"PaymentInstrumentData": {\n\t\t\t\t\t"PaymentInstrumentType": "xxx",\n\t\t\t\t\t"CardData": {\n\t\t\t\t\t\t"EntryMode": "xxx",\n\t\t\t\t\t\t"PaymentBrand": "xxx",\n\t\t\t\t\t\t"PaymentBrandID": "xxx",\n\t\t\t\t\t\t"PaymentBrandLabel": "xxx",\n\t\t\t\t\t\t"Account": "xxx",\n\t\t\t\t\t\t"MaskedPAN": "xxxxxx\u2026xxxx",\n\t\t\t\t\t\t"PaymentToken": {\n\t\t\t\t\t\t\t"TokenRequestedType": "xxx",\n\t\t\t\t\t\t\t"TokenValue": "xxx",\n\t\t\t\t\t\t\t"ExpiryDateTime": "xxx"\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"AmountsResp": {\n\t\t\t\t\t"Currency": "AUD",\n\t\t\t\t\t"AuthorizedAmount": "x.xx",\n\t\t\t\t\t"TotalFeesAmount": "x.xx",\n\t\t\t\t\t"CashBackAmount": "x.xx",\n\t\t\t\t\t"TipAmount": "x.xx",\n\t\t\t\t\t"SurchargeAmount": "x.xx"\n\t\t\t\t},\n\t\t\t\t"OnlineFlag": true,\n\t\t\t\t"PaymentAcquirerData": {\n\t\t\t\t\t"AcquirerID": "xxx",\n\t\t\t\t\t"MerchantID": "xxx",\n\t\t\t\t\t"AcquirerPOIID": "xxx",\n\t\t\t\t\t"AcquirerTransactionID": {\n\t\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t\t},\n\t\t\t\t\t"ApprovalCode": "xxx",\n\t\t\t\t\t"ResponseCode": "xxx",\n\t\t\t\t\t"HostReconciliationID": "xxx"\n\t\t\t\t}\n\t\t\t},\n\t\t\t"AllowedProductCodes": [\n\t\t\t\t"1",\n\t\t\t\t"2",\n\t\t\t\t"3"\n\t\t\t],\n\t\t\t"PaymentReceipt": [\n\t\t\t\t{\n\t\t\t\t\t"DocumentQualifier": "xxx",\n\t\t\t\t\t"RequiredSignatureFlag": true,\n\t\t\t\t\t"OutputContent": {\n\t\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. If a print request, check ",(0,s.jsx)(t.code,{children:"SaleToPOIRequest.PrintRequest"})," and process the print. If a payment response, check ",(0,s.jsx)(t.code,{children:"SaleToPOIResponse.PaymentResponse.Response.Result"})," for the result of the payment request"]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"404"}),(0,s.jsx)(t.td,{children:"Not found"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to find the session. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the payment result."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to process the request. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the payment result."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"balance-inquiry",children:"Balance inquiry"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"balance inquiry"})," endpoint is used to request the balance of an account."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Endpoints"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Endpoint"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Request (blocking mode)"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:"Initate a balance inquiry in blocking mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Request (events mode)"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}?events=true"})}),(0,s.jsx)(t.td,{children:"Initate a balance inquiry in events mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Error handling"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:"Called by the Sale System to enter error handling"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Get events"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}/events"})}),(0,s.jsxs)(t.td,{children:["Get events for the request. See ",(0,s.jsx)(t.a,{href:"#balance-inquiry-events",children:"balance inquiry events"})]})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Events"}),(0,s.jsx)(t.td,{children:"Set to true to enable events mode, false otherwise"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-request",children:"balance inquiry request"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Balance inquiry request"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n    "BalanceInquiryRequest": {\n    }\n}\n'})})})]}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"BalanceInquiryRequest"})," node is intentionally empty."]})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"A response body is only returned when using blocking mode."})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-response",children:"balance inquiry response"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Balance inquiry response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"BalanceInquiryResponse": {\t\n\t\t"Response": {\n\t\t\t"Result": "Success | Failure",\n\t\t\t"ErrorCondition": "xxx",\n\t\t\t"AdditionalResponse": "xxx"\n\t\t},\t\n\t\t"PaymentAccountStatus": {\n\t\t\t"PaymentInstrumentType": "Card",\n\t\t\t"PaymentInstrumentData": {\n\t\t\t\t"PaymentInstrumentType": "xxx",\n\t\t\t\t"CardData": {\n\t\t\t\t\t"EntryMode": "xxx",\n\t\t\t\t\t"PaymentBrand": "xxx",\n\t\t\t\t\t"PaymentBrandId": "xxx",\n\t\t\t\t\t"PaymentBrandLabel": "xxx",\n\t\t\t\t\t"Account": "xxx",\n\t\t\t\t\t"MaskedPAN": "xxxxxx\u2026xxxx",\n\t\t\t\t\t"PaymentToken": {\n\t\t\t\t\t\t"TokenRequestedType": "xxx",\n\t\t\t\t\t\t"TokenValue": "xxx",\n\t\t\t\t\t\t"ExpiryDateTime": "xxx"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t"StoredValueAccountID": {\n\t\t\t\t\t"StoredValueAccountType": "GiftCard | PhoneCard | Other",\n\t\t\t\t\t"StoredValueProvider": "",\n\t\t\t\t\t"OwnerName": "",\n\t\t\t\t\t"ExpiryDate": "MMYY",\n\t\t\t\t\t"EntryMode": "",\n\t\t\t\t\t"IdentificationType": "",\n\t\t\t\t\t"StoredValueID": ""\n\t\t\t\t}\n\t\t\t},\n\t\t\t"CurrentBalance": 0.00,\n\t\t\t"Currency": "AUD",\n\n\t\t\t"PaymentAcquirerData": {\n\t\t\t\t"AcquirerID": "xxx",\n\t\t\t\t"MerchantID": "xxx",\n\t\t\t\t"AcquirerPOIID": "xxx",\n\t\t\t\t"AcquirerTransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t\t"ApprovalCode": "xxx",\n\t\t\t\t"ResponseCode": "xxx",\n\t\t\t\t"HostReconciliationID": "xxx"\n\t\t\t},\n\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. Check ",(0,s.jsx)(t.code,{children:"BalanceInquiryResponse.Response.Result"})," for the result of the request."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"202"}),(0,s.jsx)(t.td,{children:"Accepted"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request in events mode. Call the ",(0,s.jsx)(t.a,{href:"#balance-inquiry-events",children:"balance inquiry events"})," endpoint for the result."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"4xx"}),(0,s.jsx)(t.td,{children:"Bad Request"}),(0,s.jsx)(t.td,{children:"Fusion App was unable to process the request. Check the required headers and request body and try again."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to process the request. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the result."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"balance-inquiry-events",children:"Balance inquiry events"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"balance inquiry events"})," endpoint is used to request the events associated with an ongoing balance inquiry session."]}),"\n",(0,s.jsxs)(t.admonition,{type:"tip",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"SessionId"})," used in the POST to initiate the transaction."]}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"SessionId"})," is only valid during the lifetime of the transaction (i.e. when a transaction is initiated until ",(0,s.jsx)(t.code,{children:"BalanceInquiryResponse"})," is returned to the Sale System). If 404 is returned, the Sale System should enter ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"}),"."]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Endpoint"}),"\n",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/balanceinquiry/{{SessionId}}/events"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload containing either a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," or ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"}),"."]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Print request"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"SaleToPOIRequest": {\n\t\t"MessageHeader": {\n\t\t\t"MessageClass": "Device",\n\t\t\t"MessageCategory": "Print",\n\t\t\t"MessageType": "Request",\n\t\t\t"ServiceID": "xxxx"\n\t\t},\n\t\t"PrintRequest": {\n\t\t\t"PrintOutput": {\n\t\t\t\t"DocumentQualifier": "Cashier | Customer",\n\t\t\t\t"IntegratedPrintFlag": "true|false",\n\t\t\t\t"RequiredSignatureFlag": "true|false",\n\t\t\t\t"OutputContent": {\n\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Balance inquiry response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"SaleToPOIResponse": {\n\t\t"MessageHeader": {\n\t\t\t"MessageClass": "Service",\n\t\t\t"MessageCategory": "Payment",\n\t\t\t"MessageType": "Response",\n\t\t\t"ServiceID": "xxxx"\n\t\t},\n\t\t"BalanceInquiryResponse": {\t\n\t\t\t\t"Response": {\n\t\t\t\t\t"Result": "Success | Failure",\n\t\t\t\t\t"ErrorCondition": "xxx",\n\t\t\t\t\t"AdditionalResponse": "xxx"\n\t\t\t\t},\t\n\t\t\t\t"PaymentAccountStatus": {\n\t\t\t\t\t"PaymentInstrumentType": "Card",\n\t\t\t\t\t"PaymentInstrumentData": {\n\t\t\t\t\t\t"PaymentInstrumentType": "xxx",\n\t\t\t\t\t\t"CardData": {\n\t\t\t\t\t\t\t"EntryMode": "xxx",\n\t\t\t\t\t\t\t"PaymentBrand": "xxx",\n\t\t\t\t\t\t\t"PaymentBrandId": "xxx",\n\t\t\t\t\t\t\t"PaymentBrandLabel": "xxx",\n\t\t\t\t\t\t\t"Account": "xxx",\n\t\t\t\t\t\t\t"MaskedPAN": "xxxxxx\u2026xxxx",\n\t\t\t\t\t\t\t"PaymentToken": {\n\t\t\t\t\t\t\t\t"TokenRequestedType": "xxx",\n\t\t\t\t\t\t\t\t"TokenValue": "xxx",\n\t\t\t\t\t\t\t\t"ExpiryDateTime": "xxx"\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"StoredValueAccountID": {\n\t\t\t\t\t\t\t"StoredValueAccountType": "GiftCard | PhoneCard | Other",\n\t\t\t\t\t\t\t"StoredValueProvider": "",\n\t\t\t\t\t\t\t"OwnerName": "",\n\t\t\t\t\t\t\t"ExpiryDate": "MMYY",\n\t\t\t\t\t\t\t"EntryMode": "",\n\t\t\t\t\t\t\t"IdentificationType": "",\n\t\t\t\t\t\t\t"StoredValueID": ""\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t"CurrentBalance": 0.00,\n\t\t\t\t\t"Currency": "AUD",\n\n\t\t\t\t\t"PaymentAcquirerData": {\n\t\t\t\t\t\t"AcquirerID": "xxx",\n\t\t\t\t\t\t"MerchantID": "xxx",\n\t\t\t\t\t\t"AcquirerPOIID": "xxx",\n\t\t\t\t\t\t"AcquirerTransactionID": {\n\t\t\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"ApprovalCode": "xxx",\n\t\t\t\t\t\t"ResponseCode": "xxx",\n\t\t\t\t\t\t"HostReconciliationID": "xxx"\n\t\t\t\t\t},\n\n\t\t\t\t}\n\t\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. If a print request, check ",(0,s.jsx)(t.code,{children:"SaleToPOIRequest.PrintRequest"})," and process the print. If a payment response, check ",(0,s.jsx)(t.code,{children:"SaleToPOIResponse.BalanceInquiryResponse.Response.Result"})," for the result of the transaction."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"404"}),(0,s.jsx)(t.td,{children:"Not found"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to find the session. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the transaction result."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to process the request. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the transaction result."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"stored-value",children:"Stored value"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"stored value"})," endpoint is used to activate or deactivate a gift card."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Endpoints"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Endpoint"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Request (blocking mode)"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:"Initate a stored value request in blocking mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Request (events mode)"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}?events=true"})}),(0,s.jsx)(t.td,{children:"Initate a stored value request in events mode"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Error handling"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:"Called by the Sale System to enter error handling"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Get events"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}/events"})}),(0,s.jsxs)(t.td,{children:["Get events for the request. See ",(0,s.jsx)(t.a,{href:"#stored-value-events",children:"stored value events"})]})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Events"}),(0,s.jsx)(t.td,{children:"Set to true to enable events mode, false otherwise"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"stored value request"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Stored value request"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"StoredValueRequest": {\t\t\n\t\t"SaleData": {\n\t\t\t"OperatorID": "xxx",\n\t\t\t"OperatorLanguage": "en",\n\t\t\t"ShiftNumber": "xxx",\n\t\t\t"SaleTransactionID": {\n\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t"TimeStamp": "xxx"\n\t\t\t},\n\t\t\t"SaleReferenceID": "xxx",\n\t\t\t"SaleTerminalData": {\n\t\t\t\t"TerminalEnvironment": "xxx",\n\t\t\t\t"SaleCapabilities": [\n\t\t\t\t\t"xxx",\n\t\t\t\t\t"xxx",\n\t\t\t\t\t"xxx"\n\t\t\t\t],\n\t\t\t\t"TotalsGroupID": "xxx"\n\t\t\t},\n\t\t\t"TokenRequestedType": "Customer | Transaction"\n\t\t},\n\t\t"StoredValueData": [\n\t\t\t{\n\t\t\t"StoredValueProvider": "",\n\t\t\t"StoredValueTransactionType":"Reserve | Activate | Load | Unload | Reverse | Duplicate",\n\t\t\t"StoredValueAccountID": {\n\t\t\t\t"StoredValueAccountType": "GiftCard | PhoneCard | Other",\n\t\t\t\t"StoredValueProvider": "",\n\t\t\t\t"OwnerName": "",\n\t\t\t\t"ExpiryDate": "MMYY",\n\t\t\t\t"EntryMode": "",\n\t\t\t\t"IdentificationType": "",\n\t\t\t\t"StoredValueID": ""\n\t\t\t},\n\t\t\t"OriginalPOITransaction": {\n\t\t\t\t"SaleID": "xxx",\n\t\t\t\t"POIID": "xxx",\n\t\t\t\t"POITransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t\t"ReuseCardDataFlag": true,\n\t\t\t\t"ApprovalCode": "xxx",\n\t\t\t\t"LastTransactionFlag": true\n\t\t\t},\n\t\t\t"ProductCode": "xxx",\n\t\t\t"EanUpc": "xxx",\n\t\t\t"ItemAmount": "xx.x",\t\t\t\n\t\t\t"TotalFeesAmount": "xx.x",\n\t\t\t"Currency": "",\n\n\t\t}\n\t\t]\t\t\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"A response body is only returned when using blocking mode."})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload based on ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"stored value response"})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Stored value response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"StoredValueResponse": {\t\n\t\t"Response": {\n\t\t\t"Result": "Success | Failure",\n\t\t\t"ErrorCondition": "xxx",\n\t\t\t"AdditionalResponse": "xxx"\n\t\t},\t\n\t\t"SaleData": {\n\t\t\t"SaleTransactionID": {\n\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t"TimeStamp": "xxx"\n\t\t\t},\n\t\t},\n\t\t"POIData": {\n\t\t\t"POITransactionID": {\n\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t"TimeStamp": "xxx"\n\t\t\t},\n\t\t\t"POIReconciliationID": "xxx"\n\t\t},\n\t\t"StoredValueResult": [\n\t\t\t{\n\t\t\t\t"StoredValueTransactionType":"Reserve | Activate | Load | Unload | Reverse | Duplicate",\n\t\t\t\t"ProductCode": "xxx",\n\t\t\t\t"EanUpc": "xxx",\n\t\t\t\t"ItemAmount": "xx.x",\t\t\n\t\t\t\t"TotalFeesAmount": "xx.x",\t\t\n\t\t\t\t"Currency": "",\n\t\t\t\t"StoredValueAccountStatus": {\n\t\t\t\t\t"StoredValueAccountID": {\n\t\t\t\t\t\t"StoredValueAccountType": "GiftCard | PhoneCard | Other",\n\t\t\t\t\t\t"StoredValueProvider": "",\n\t\t\t\t\t\t"OwnerName": "",\n\t\t\t\t\t\t"ExpiryDate": "MMYY",\n\t\t\t\t\t\t"EntryMode": "",\n\t\t\t\t\t\t"IdentificationType": "",\n\t\t\t\t\t\t"StoredValueID": ""\n\t\t\t\t\t},\n\t\t\t\t\t"CurrentBalance": 0.00,\n\t\t\t\t},\n\t\t\t}\t\t\n\t\t],\n\t\t"PaymentReceipt": [\n\t\t\t{\n\t\t\t\t"DocumentQualifier": "xxx",\n\t\t\t\t"RequiredSignatureFlag": true,\n\t\t\t\t"OutputContent": {\n\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t}\n\t\t\t}\n\t\t]\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. Check ",(0,s.jsx)(t.code,{children:"StoredValueResponse.Response.Result"})," for the result of the request."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"202"}),(0,s.jsx)(t.td,{children:"Accepted"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request in events mode. Call the ",(0,s.jsx)(t.a,{href:"#stored-value-events",children:"stored value events"})," endpoint for the result."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"4xx"}),(0,s.jsx)(t.td,{children:"Bad Request"}),(0,s.jsx)(t.td,{children:"Fusion App was unable to process the request. Check the required headers and request body and try again."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to process the request. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the result."]})]})]})]}),"\n",(0,s.jsx)(t.h3,{id:"stored-value-events",children:"Stored value events"}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"stored value events"})," endpoint is used to request the events associated with an ongoing stored value session."]}),"\n",(0,s.jsxs)(t.admonition,{type:"tip",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.p,{children:["Use the ",(0,s.jsx)(t.code,{children:"SessionId"})," used in the POST to initiate the transaction."]}),(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"SessionId"})," is only valid during the lifetime of the transaction (i.e. when a transaction is initiated until ",(0,s.jsx)(t.code,{children:"StoredValueResponse"})," is returned to the Sale System). If 404 is returned, the Sale System should enter ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"}),"."]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Endpoint"}),"\n",(0,s.jsx)(t.code,{children:"GET http://localhost:4242/fusion/v1/storedvalue/{{SessionId}}/events"})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Query Parameters"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"SessionId"}),(0,s.jsx)(t.td,{children:"A globally unique UUIDv4 which identifies this request"})]})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Headers"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Parameter"}),(0,s.jsx)(t.th,{children:"Value"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Content-Type"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"Accept"}),(0,s.jsx)(t.td,{children:"application/json"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Application-Name"}),(0,s.jsx)(t.td,{children:"The name of your Sale System"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"X-Software-Version"}),(0,s.jsx)(t.td,{children:"The software version of your Sale System"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Request Body"})}),"\n",(0,s.jsx)(t.p,{children:"Empty."}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response Body"})}),"\n",(0,s.jsxs)(t.p,{children:["A JSON payload containing either a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoirequest",children:"SaleToPOIRequest"})," or ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#saletopoiresponse",children:"SaleToPOIResponse"}),"."]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Print request"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"SaleToPOIRequest": {\n\t\t"MessageHeader": {\n\t\t\t"MessageClass": "Device",\n\t\t\t"MessageCategory": "Print",\n\t\t\t"MessageType": "Request",\n\t\t\t"ServiceID": "xxxx"\n\t\t},\n\t\t"PrintRequest": {\n\t\t\t"PrintOutput": {\n\t\t\t\t"DocumentQualifier": "Cashier | Customer",\n\t\t\t\t"IntegratedPrintFlag": "true|false",\n\t\t\t\t"RequiredSignatureFlag": "true|false",\n\t\t\t\t"OutputContent": {\n\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsxs)(i,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(t.p,{children:"Stored value response"})}),(0,s.jsx)("p",{children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n\t"SaleToPOIResponse": {\n\t\t"MessageHeader": {\n\t\t\t"MessageClass": "Service",\n\t\t\t"MessageCategory": "Payment",\n\t\t\t"MessageType": "Response",\n\t\t\t"ServiceID": "xxxx"\n\t\t},\n\t\t"StoredValueResponse": {\t\n\t\t\t"Response": {\n\t\t\t\t"Result": "Success | Failure",\n\t\t\t\t"ErrorCondition": "xxx",\n\t\t\t\t"AdditionalResponse": "xxx"\n\t\t\t},\t\n\t\t\t"SaleData": {\n\t\t\t\t"SaleTransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t},\n\t\t\t"POIData": {\n\t\t\t\t"POITransactionID": {\n\t\t\t\t\t"TransactionID": "xxx",\n\t\t\t\t\t"TimeStamp": "xxx"\n\t\t\t\t},\n\t\t\t\t"POIReconciliationID": "xxx"\n\t\t\t},\n\t\t\t"StoredValueResult": [\n\t\t\t\t{\n\t\t\t\t\t"StoredValueTransactionType":"Reserve | Activate | Load | Unload | Reverse | Duplicate",\n\t\t\t\t\t"ProductCode": "xxx",\n\t\t\t\t\t"EanUpc": "xxx",\n\t\t\t\t\t"ItemAmount": "xx.x",\t\t\n\t\t\t\t\t"TotalFeesAmount": "xx.x",\t\t\n\t\t\t\t\t"Currency": "",\n\t\t\t\t\t"StoredValueAccountStatus": {\n\t\t\t\t\t\t"StoredValueAccountID": {\n\t\t\t\t\t\t\t"StoredValueAccountType": "GiftCard | PhoneCard | Other",\n\t\t\t\t\t\t\t"StoredValueProvider": "",\n\t\t\t\t\t\t\t"OwnerName": "",\n\t\t\t\t\t\t\t"ExpiryDate": "MMYY",\n\t\t\t\t\t\t\t"EntryMode": "",\n\t\t\t\t\t\t\t"IdentificationType": "",\n\t\t\t\t\t\t\t"StoredValueID": ""\n\t\t\t\t\t\t},\n\t\t\t\t\t\t"CurrentBalance": 0.00,\n\t\t\t\t\t},\n\t\t\t\t}\t\t\n\t\t\t],\n\t\t\t"PaymentReceipt": [\n\t\t\t\t{\n\t\t\t\t\t"DocumentQualifier": "xxx",\n\t\t\t\t\t"RequiredSignatureFlag": true,\n\t\t\t\t\t"OutputContent": {\n\t\t\t\t\t\t"OutputFormat": "XHTML",\n\t\t\t\t\t\t"OutputXHTML": "xxx"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t}\n}\n'})})})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Response HTTP Status Codes"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Code"}),(0,s.jsx)(t.th,{children:"Description"}),(0,s.jsx)(t.th,{children:"Required action"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"200"}),(0,s.jsx)(t.td,{children:"OK"}),(0,s.jsxs)(t.td,{children:["Fusion App processed the request. If a print request, check ",(0,s.jsx)(t.code,{children:"SaleToPOIRequest.PrintRequest"})," and process the print. If a payment response, check ",(0,s.jsx)(t.code,{children:"SaleToPOIResponse.StoredValueResponse.Response.Result"})," for the result of the transaction."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"404"}),(0,s.jsx)(t.td,{children:"Not found"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to find the session. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the transaction result."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"5xx"}),(0,s.jsx)(t.td,{children:"Error"}),(0,s.jsxs)(t.td,{children:["Fusion App was unable to process the request. The Sale System should perform ",(0,s.jsx)(t.a,{href:"#error-handling",children:"error handling"})," to retrieve the transaction result."]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"error-handling",children:"Error handling"}),"\n",(0,s.jsxs)(t.p,{children:["When the Sale System POSTs a ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-request",children:"payment"}),", ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-request",children:"balance inquiry"}),", or ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-request",children:"stored value"})," request, it will eventually receive a matching ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"payment"}),", ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-response",children:"balance inquiry"}),", or ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"stored value"})," response, or via the ",(0,s.jsx)(t.code,{children:"~/events"})," endpoint in events mode."]}),"\n",(0,s.jsx)(t.admonition,{type:"info",children:(0,s.jsx)(t.p,{children:"The Sale System hard timeout should be set to 300 seconds before entering error handling."})}),"\n",(0,s.jsxs)(t.p,{children:["The Sale System may attempt to cancel the transaction at any point prior to the 300 second timeout by sending a ",(0,s.jsx)(t.code,{children:"POST ~/fusion/v1/payments/{{SessionId}}/abort"}),". As the ",(0,s.jsx)(t.code,{children:"abort"})," request may not be successful (e.g. the POI Terminal is temporarily offline) the Sale System ",(0,s.jsx)(t.strong,{children:"must"})," continue to wait for the full timeout before entering error recovery."]}),"\n",(0,s.jsxs)(t.p,{children:["The Sale System should verify the result of the transaction by checking the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"})," field in the response."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["If the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Success", the payment transaction was successful.']}),"\n",(0,s.jsxs)(t.li,{children:["If the ",(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#result",children:"Response.Result"}),' is "Failure", the payment transaction failed.  The Sale System may check for any errors specified in the ',(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#errorcondition",children:"Response.ErrorCondition"})," field in the same response message and handle the error accordingly."]}),"\n"]}),"\n",(0,s.jsxs)(t.admonition,{type:"success",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsxs)(t.p,{children:["In the event the Sale System does not receive a response (for example, due to network error, timeout, HTTP 5xx, or any other unexpected error) it ",(0,s.jsx)(t.strong,{children:"must"})," enter error handling."]})]}),"\n",(0,s.jsxs)(t.p,{children:["To perform error handling the Sale System should send a ",(0,s.jsx)(t.code,{children:"GET"})," request to the error handling endpoint using the ",(0,s.jsx)(t.code,{children:"SessionId"})," of the failed request. Fusion App will return a response containing the result of the payment."]}),"\n",(0,s.jsxs)(t.admonition,{type:"info",children:[(0,s.jsx)(t.mdxAdmonitionTitle,{}),(0,s.jsx)(t.p,{children:"The Sale System timeout for the error handling endpoint GET request should be set to 95 seconds."})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Base Uri"}),"\n",(0,s.jsx)(t.code,{children:"http://localhost:4242/fusion/v1/"})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Request endpoint"}),(0,s.jsx)(t.th,{children:"Error handling endpoint"}),(0,s.jsx)(t.th,{children:"Response content"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST ~payments/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET ~payments/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#payment-response",children:"PaymentResponse"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST ~balanceinquiry/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET ~balanceinquiry/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#balance-inquiry-response",children:"BalanceInquiryResponse"})})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"POST ~storedvalue/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"GET ~storedvalue/{{SessionId}}"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"/docs/api-reference/data-model#stored-value-response",children:"StoredValueResponse"})})]})]})]})]})}function h(e={}){const{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},6186:(e,t,n)=>{n.d(t,{Z:()=>s});const s="data:image/png;base64,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"},7870:(e,t,n)=>{n.d(t,{Z:()=>s});const s="data:image/png;base64,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AUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFCLcAUAhwh0AFIrCvQwAoAVP7gCgEOEOAAoR7gCgEOEOAAoR7gCgEOEOAAoR7gCgEOEOAAoR7gCgEOEOAAoR7gCgEOEOAAoR7gCgEOEOAAoR7oBmcxY2aN3sHeb0jl72DrMj3AHNEoGoabN3mJOE4CWNCHeg1JkctJGgBeFOuAOljnC3c3Qh3IFSR7jbOboQ7kCpI9ztHF0Id6DUEe52zuxxePGDDy4+bHcmiXAHSt20hbtE0pw5UShNKKGmI85chQv3snlzQvPKbHGKCHcAUzed4f7gvHlhLJVAuMtVu4leNm+a0p1wBzB10xruiw/Lk6yJuDCh/Aj0mX3vWddml3dIhsmOqStIuId3GBPdjLkbv2tx8HwfxH/0wO9VEi9A+sITQ7gDpW6aw93PLRtY3m4Y9k5meVkmRSfDnOG0KES427vIzty61xb0ScW7zcTMjJdoOl4Nwh0oddMe7rGEkq/2mdSwKWbKUYKFc6dJgcI99ZrdWw5fh/BQoiLcfs+8skTDpBDuQKmb/nD3h/MWpwVZSJ5Wiz3cg+fwGLmRsGhuyr21zIpI7IrMysQR7kCpux/h7oS3N3A+gjDMBxFOOMrczK4pKEi4+1ftXLb3B6rOi+AdlbH7stixd8S524yXyJ0yWYQ7UOruT7g7z7VelAW8ipNliaH7LD81hQl34d6cuRVzI8L+6JD7soRjZ5o3KfESuVMmi3AHSt20hftsUrBwn7UId6DUEe52ji6EO1DqCHc7RxfCHSh1hLudowvhDpQ6k4MqN3uHORHuhDugUyIQNW32DnOSENTK3mF2hDsAKCSpXl5eTrgDgCqEOwAoRLgDgEKS6nzmDgDaEO4AoJCkekVFBeEOAKpIqldWVhLuAKCKpPrJkycJdwBQRVK9qqqKcAcAVSTVa2pqCHcAUEVSva6uzgt3AIAmZ8+e/f8xWMUSKNgQHwAAAABJRU5ErkJggg=="},565:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-install-2-a0773757806cea6baf35e7de02de34c9.png"},8484:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-postman-f4cf08989b69875169fb653018bde1a8.png"},4045:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-settings-not-paired-9e7ff31ff4cc4b7de150aa12b066fc8c.png"},5567:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-settings-paired-base-fa4cf7a9217f0d6b69f97d48c2131dbb.png"},2492:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-settings-paired-terminal-34a207a72c23527fdf1050211ad704ed.png"},4758:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-settings-paired-9d2c024eb1727e8f3221f37af32a8373.png"},6538:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-settings-6348af6cba777e2a7952605ce216306d.png"},6692:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/fusion-app-terminal-pairing-01ef8c85e8d301dc7384acfedbb8cff3.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>a,a:()=>d});var s=n(7294);const r={},i=s.createContext(r);function d(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(i.Provider,{value:t},e.children)}}}]);